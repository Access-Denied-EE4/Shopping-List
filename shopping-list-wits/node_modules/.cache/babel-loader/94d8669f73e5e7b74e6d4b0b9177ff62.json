{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\DELL\\\\OneDrive\\\\Documents\\\\GitHub\\\\Shopping-List\\\\shopping-list-wits\\\\src\\\\contexts\\\\AuthContext.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport { createContext, useContext, useEffect, useState } from \"react\";\nimport { createUserWithEmailAndPassword } from 'firebase/auth';\nimport { signInWithEmailAndPassword } from 'firebase/auth';\nimport { signOut } from 'firebase/auth'; //checks if logged in therefore have access to protected routes\n\nimport { onAuthStateChanged } from 'firebase/auth';\nimport { auth } from '../firebase';\nimport { sendPasswordResetEmail } from \"firebase/auth\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst UserContext = /*#__PURE__*/createContext(); //takes in children\n\nexport const AuthContextProvider = _ref => {\n  _s();\n\n  let {\n    children\n  } = _ref;\n  //need state for access\n  //use state takes in obkect->{}\n  const [user, setUser] = useState({}); //create a new user function\n\n  const createUser = (email, password) => {\n    //firebase function for creating user\n    return createUserWithEmailAndPassword(auth, email, password);\n  }; //login function\n\n\n  const signIn = (email, password) => {\n    //firebase function for loggin in\n    return signInWithEmailAndPassword(auth, email, password);\n  }; //logout function\n\n\n  const logout = () => {\n    //firbase function for logging out\n    return signOut(auth);\n  }; //forgotpasswordFunction\n\n\n  const forgotPassword = email => {\n    return sendPasswordResetEmail(auth, email);\n  };\n  /*use onAuthStateChange-> put inside useEffect as only want it to run once when \r\n    component mounts*/\n\n\n  useEffect(() => {\n    const unsubscribe = onAuthStateChanged(auth, currentUser => {\n      console.log(currentUser);\n      setUser(currentUser);\n    });\n    return () => {\n      unsubscribe();\n    };\n  }, []);\n  return (\n    /*#__PURE__*/\n    //this is where we export all our values/functions-imported via UserAuth and accessed as objects\n    _jsxDEV(UserContext.Provider, {\n      value: {\n        createUser,\n        user,\n        logout,\n        signIn,\n        forgotPassword\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }, this)\n  );\n};\n\n_s(AuthContextProvider, \"nKBPTxqZ3/QuBJSQ4Q9Qx0pEwAc=\");\n\n_c = AuthContextProvider;\nexport const UserAuth = () => {\n  _s2();\n\n  //this is what makes context avaliable\n  return useContext(UserContext);\n};\n\n_s2(UserAuth, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\n\n_c2 = UserAuth;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"AuthContextProvider\");\n$RefreshReg$(_c2, \"UserAuth\");","map":{"version":3,"names":["createContext","useContext","useEffect","useState","createUserWithEmailAndPassword","signInWithEmailAndPassword","signOut","onAuthStateChanged","auth","sendPasswordResetEmail","UserContext","AuthContextProvider","children","user","setUser","createUser","email","password","signIn","logout","forgotPassword","unsubscribe","currentUser","console","log","UserAuth"],"sources":["C:/Users/DELL/OneDrive/Documents/GitHub/Shopping-List/shopping-list-wits/src/contexts/AuthContext.js"],"sourcesContent":["import { createContext, useContext, useEffect, useState } from \"react\";\r\nimport {createUserWithEmailAndPassword} from 'firebase/auth'\r\nimport {signInWithEmailAndPassword} from 'firebase/auth'\r\nimport {signOut} from 'firebase/auth'\r\n//checks if logged in therefore have access to protected routes\r\nimport {onAuthStateChanged} from 'firebase/auth'\r\nimport{auth} from '../firebase';\r\nimport { sendPasswordResetEmail } from \"firebase/auth\";\r\n\r\n\r\nconst UserContext=createContext();\r\n\r\n//takes in children\r\nexport const AuthContextProvider=({children})=>{\r\n\r\n    //need state for access\r\n    //use state takes in obkect->{}\r\n    const [user,setUser]=useState({});\r\n\r\n    //create a new user function\r\n    const createUser=(email,password)=>{\r\n        //firebase function for creating user\r\n        return createUserWithEmailAndPassword(auth,email,password);\r\n\r\n    };\r\n\r\n    //login function\r\n    const signIn=(email,password)=>{\r\n        //firebase function for loggin in\r\n        return signInWithEmailAndPassword(auth,email,password);\r\n    }\r\n\r\n    //logout function\r\n    const logout=()=>{\r\n        //firbase function for logging out\r\n        return signOut(auth);\r\n    }\r\n\r\n     //forgotpasswordFunction\r\n    const forgotPassword = (email) => {\r\n        return sendPasswordResetEmail(auth,email);\r\n    }\r\n\r\n    /*use onAuthStateChange-> put inside useEffect as only want it to run once when \r\n      component mounts*/\r\n    useEffect(()=>{\r\n        const unsubscribe=onAuthStateChanged(auth,(currentUser)=>{\r\n            console.log(currentUser);\r\n            setUser(currentUser);\r\n        });\r\n        return ()=>{\r\n            unsubscribe();\r\n        }\r\n    },[]);\r\n\r\n    return (\r\n        //this is where we export all our values/functions-imported via UserAuth and accessed as objects\r\n        <UserContext.Provider value={{createUser, user, logout, signIn,forgotPassword}}>\r\n            {children}\r\n        </UserContext.Provider>\r\n    )\r\n}\r\n\r\nexport const UserAuth=()=>{\r\n    //this is what makes context avaliable\r\n    return useContext(UserContext)\r\n}"],"mappings":";;;;AAAA,SAASA,aAAT,EAAwBC,UAAxB,EAAoCC,SAApC,EAA+CC,QAA/C,QAA+D,OAA/D;AACA,SAAQC,8BAAR,QAA6C,eAA7C;AACA,SAAQC,0BAAR,QAAyC,eAAzC;AACA,SAAQC,OAAR,QAAsB,eAAtB,C,CACA;;AACA,SAAQC,kBAAR,QAAiC,eAAjC;AACA,SAAOC,IAAP,QAAkB,aAAlB;AACA,SAASC,sBAAT,QAAuC,eAAvC;;AAGA,MAAMC,WAAW,gBAACV,aAAa,EAA/B,C,CAEA;;AACA,OAAO,MAAMW,mBAAmB,GAAC,QAAc;EAAA;;EAAA,IAAb;IAACC;EAAD,CAAa;EAE3C;EACA;EACA,MAAM,CAACC,IAAD,EAAMC,OAAN,IAAeX,QAAQ,CAAC,EAAD,CAA7B,CAJ2C,CAM3C;;EACA,MAAMY,UAAU,GAAC,CAACC,KAAD,EAAOC,QAAP,KAAkB;IAC/B;IACA,OAAOb,8BAA8B,CAACI,IAAD,EAAMQ,KAAN,EAAYC,QAAZ,CAArC;EAEH,CAJD,CAP2C,CAa3C;;;EACA,MAAMC,MAAM,GAAC,CAACF,KAAD,EAAOC,QAAP,KAAkB;IAC3B;IACA,OAAOZ,0BAA0B,CAACG,IAAD,EAAMQ,KAAN,EAAYC,QAAZ,CAAjC;EACH,CAHD,CAd2C,CAmB3C;;;EACA,MAAME,MAAM,GAAC,MAAI;IACb;IACA,OAAOb,OAAO,CAACE,IAAD,CAAd;EACH,CAHD,CApB2C,CAyB1C;;;EACD,MAAMY,cAAc,GAAIJ,KAAD,IAAW;IAC9B,OAAOP,sBAAsB,CAACD,IAAD,EAAMQ,KAAN,CAA7B;EACH,CAFD;EAIA;AACJ;;;EACId,SAAS,CAAC,MAAI;IACV,MAAMmB,WAAW,GAACd,kBAAkB,CAACC,IAAD,EAAOc,WAAD,IAAe;MACrDC,OAAO,CAACC,GAAR,CAAYF,WAAZ;MACAR,OAAO,CAACQ,WAAD,CAAP;IACH,CAHmC,CAApC;IAIA,OAAO,MAAI;MACPD,WAAW;IACd,CAFD;EAGH,CARQ,EAQP,EARO,CAAT;EAUA;IAAA;IACI;IACA,QAAC,WAAD,CAAa,QAAb;MAAsB,KAAK,EAAE;QAACN,UAAD;QAAaF,IAAb;QAAmBM,MAAnB;QAA2BD,MAA3B;QAAkCE;MAAlC,CAA7B;MAAA,UACKR;IADL;MAAA;MAAA;MAAA;IAAA;EAFJ;AAMH,CAhDM;;GAAMD,mB;;KAAAA,mB;AAkDb,OAAO,MAAMc,QAAQ,GAAC,MAAI;EAAA;;EACtB;EACA,OAAOxB,UAAU,CAACS,WAAD,CAAjB;AACH,CAHM;;IAAMe,Q;;MAAAA,Q"},"metadata":{},"sourceType":"module"}